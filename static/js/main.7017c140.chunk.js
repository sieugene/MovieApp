(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],{24:function(e,t,a){},27:function(e,t,a){},36:function(e,t,a){},40:function(e,t,a){e.exports=a(72)},45:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(45),a(10)),i=function(e){return r.a.createElement("nav",{className:"grey lighten-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(l.b,{to:"/",className:"brand-logo black-text text-darken-2"},"MovieApp"))))},s=a(2),u=a.n(s),m=a(3),p=a(12),v=(a(27),function(e){for(var t=e.genre_ids,a=e.genresList,n=[],c=function(e){var r=a.filter((function(a){return a.id===t[e]}));r.length>0&&n.push(r[0])},o=0;o<t.length;o++)c(o);return 0===n.length?"":r.a.createElement("div",null,n.map((function(e,t){return r.a.createElement("div",{key:t},e.name)})))}),g=function(e){return e.count>=8?r.a.createElement("i",{className:"material-icons"},"star"):e.count>=3?r.a.createElement("i",{className:"material-icons"},"star_half"):r.a.createElement("i",{className:"material-icons"},"star_border")},d=function(e){var t={};return e.backdrop_path&&(t={backgroundImage:"url(https://image.tmdb.org/t/p/w600_and_h900_bestv2/".concat(e.backdrop_path,")")}),r.a.createElement("div",{className:"movie"},r.a.createElement(l.b,{exact:!0,to:"/detail/".concat(e.id,"/page/1")},r.a.createElement("div",{className:"movie__back",style:t}),r.a.createElement("h5",{className:"truncate movie-title"},e.title),r.a.createElement("div",{className:"row movie__info"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"movie-date"}," ",e.release_date)),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"star-icon"},r.a.createElement(g,{count:e.vote_average}),e.vote_average))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(v,{genre_ids:e.genre_ids,genresList:e.genresList})))))},E=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],o=a[1];return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.searchTC(c)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s10"},r.a.createElement("input",{onChange:function(t){if(""===t.target.value)return e.setPopularMoviesTC(1);o(t.target.value)}})),r.a.createElement("div",{className:"col s2"},r.a.createElement("button",{className:"waves-effect waves-light btn-small"},"Search"))))},f=a(24),h=a.n(f),b=a(15),_=function(e){for(var t=Number(e.currentPage),a=e.pageSize,c=[],o=1;o<=Math.ceil(a);o++)c.push(o);var l=Object(n.useState)(1),i=Object(p.a)(l,2),s=i[0],u=i[1],m=Math.ceil(a/e.portionSize),v=(s-1)*e.portionSize+1,g=s*e.portionSize,d=Object(b.f)();return r.a.createElement("ul",{className:"pagination center-align"},s>=2&&r.a.createElement("li",{onClick:function(){u(s-1)},className:h.a.changePortion}," ",r.a.createElement("i",{className:"material-icons"},"chevron_left")),c.filter((function(e){return e>=v&&e<=g})).map((function(a){return r.a.createElement("li",{className:t===a?"active":"waves-effect",onClick:function(t){e.onPageCurrentChange(a),d.push("".concat(e.path).concat(a))},key:a},r.a.createElement("a",null,a))})),m>s&&r.a.createElement("li",{onClick:function(){u(s+1)},className:h.a.changePortion},r.a.createElement("i",{className:"material-icons"},"chevron_right")))},N=function(e){return r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"determinate",style:{width:"70%"}}))},O=function(e){var t=Object(n.useState)(!0),a=Object(p.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setPopularMoviesTC(e.match.params.page);case 2:return t.next=4,e.setGenresTC();case 4:o(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var l=e.popularMovies.results.map((function(t){return r.a.createElement("div",{className:"col s12 m6 l4 xl3",key:t.id},r.a.createElement(d,{title:t.title,release_date:t.release_date,vote_average:t.vote_average,backdrop_path:t.backdrop_path,id:t.id,genresList:e.genreList.genres,genre_ids:t.genre_ids}))}));return c?r.a.createElement(N,null):r.a.createElement(r.a.Fragment,null,e.loading?r.a.createElement(N,null):"",r.a.createElement("div",{className:"mt20"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"left-align"},"Popular Films"))),r.a.createElement(E,{searchTC:e.searchTC,setPopularMoviesTC:e.setPopularMoviesTC}),r.a.createElement("div",{className:"row"},l)),r.a.createElement(_,{pageSize:e.popularMovies.total_pages,currentPage:e.match.params.page,onPageCurrentChange:e.setCurrnetPageTC,portionSize:10,path:"/popular/"}))},w=a(14),C=a(8),M=a(11),T=a.n(M),j="api_key=8ffead32759a85dce9ea6d40e5a6bf7f",k="https://api.themoviedb.org/3/",x=function(e){return T.a.get("".concat(k,"movie/popular?").concat(j,"&language=en-US&page=").concat(e))},y=function(e){return T.a.get("".concat(k,"movie/").concat(e,"?").concat(j,"&language=en-US"))},R=function(e,t){return T.a.get("".concat(k,"movie/").concat(e,"/recommendations?").concat(j,"&language=en-US&page=").concat(t))},S=function(e){return T.a.get("".concat(k,"search/movie?").concat(j,"&query=").concat(e))},P=function(){return T.a.get("".concat(k,"genre/movie/list?").concat(j,"&language=en-US"))},L={popularMovies:{results:[],page:0,total_results:0,total_pages:0},search:"",currentMovie:[],currentPage:1,loading:!1},G=function(e){return{type:"MOVIES/TOGGLE_LOADER",loading:e}},I=function(e){return{type:"SET_CURRENT_PAGE",page:e}},A=function(e){return{type:"SET_POPULAR_MOVIES",movies:e}},D={genreList:[],loading:!1},U=function(e){return{type:"REC/TOGGLE_LOADER",loading:e}},z=function(){return function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(U(!0)),e.next=4,P();case 4:a=e.sent,t({type:"GET_GENRES",genreList:a.data}),t(U(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t(U(!1));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},V=a(4),F=Object(V.d)(Object(w.b)((function(e){return{popularMovies:e.movies.popularMovies,genreList:e.genres.genreList,currentPage:e.movies.currentPage,loading:e.movies.loading}}),{setPopularMoviesTC:function(e){return function(){var t=Object(m.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(G(!0)),t.next=4,x(e);case 4:n=t.sent,a(A(n.data)),a(G(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),a(G(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},searchTC:function(e){return function(){var t=Object(m.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(G(!0)),t.next=4,S(e);case 4:n=t.sent,a(A(n.data)),a(G(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),a(G(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setGenresTC:z,setCurrnetPageTC:function(e){return function(){var t=Object(m.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(G(!0)),a(I(e)),t.next=5,x(e);case 5:n=t.sent,a(A(n.data)),a(G(!1)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),a(G(!1));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}}),b.g)((function(e){return r.a.createElement(O,e)})),B=(a(69),function(e){var t={backgroundImage:"url(https://image.tmdb.org/t/p/w1280_and_h720_bestv2/".concat(e.currentMovie.poster_path,")")};return r.a.createElement(r.a.Fragment,null,e.loading?r.a.createElement(N,null):"",r.a.createElement("div",{className:"detailMovie"},r.a.createElement("div",{className:"detailMovie__wrapper"},r.a.createElement("div",{className:"detailMovie__backImg",style:t}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",null,r.a.createElement("b",null,e.currentMovie.original_title,"/",e.currentMovie.title)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m4 l3 xl3"},r.a.createElement(g,{count:e.currentMovie.vote_average}),e.currentMovie.vote_average),r.a.createElement("div",{className:"col s12 m4 l3 xl3"},"RunTime: ",e.currentMovie.runtime," min"),r.a.createElement("div",{className:"col s12 m4 l3 xl3"},"Languages:",r.a.createElement("ul",null,e.currentMovie.spoken_languages.map((function(e,t){return r.a.createElement("li",{key:t},e.name)})))),r.a.createElement("div",{className:"col s12 m4 l3 xl3"},"Release Date: ",e.currentMovie.release_date)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",null,r.a.createElement("b",null,"Overview")),r.a.createElement("p",null,e.currentMovie.overview)),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,"Genres:")," ",r.a.createElement("ul",null,e.currentMovie.genres.map((function(e,t){return r.a.createElement("li",{key:t},e.name)})))))))))}),J=Object(V.d)(Object(w.b)((function(e){return{currentMovie:e.movies.currentMovie,loading:e.movies.loading}}),{getCurrentMovieTC:function(e){return function(){var t=Object(m.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(G(!0)),t.next=4,y(e);case 4:n=t.sent,a({type:"CURRENT_MOVIE",currentMovie:n.data}),a(G(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),a(G(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}}),b.g)((function(e){var t=Object(n.useState)(!0),a=Object(p.a)(t,2),c=a[0],o=a[1],l=e.match.params.filmId;return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentMovieTC(l);case 2:window.scrollTo(0,0),o(!1);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.match.params.filmId]),c?r.a.createElement(N,null):r.a.createElement(B,{currentMovie:e.currentMovie})})),W=(a(36),function(e){var t=e.recommendation.results.map((function(t){return r.a.createElement("div",{className:"col s12 m6 l4 xl3",key:t.id},r.a.createElement(d,{title:t.title,release_date:t.release_date,vote_average:t.vote_average,backdrop_path:t.backdrop_path,id:t.id,genresList:e.genreList.genres,genre_ids:t.genre_ids}))}));return r.a.createElement(r.a.Fragment,null,e.loading?r.a.createElement(N,null):"",r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mt20"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"left-align"},"Featured movies"))),r.a.createElement("div",{className:"row"},t)),r.a.createElement(_,{pageSize:e.recommendation.total_pages,currentPage:e.match.params.page,path:"/detail/".concat(e.match.params.filmId,"/page/"),onPageCurrentChange:e.setCurrnetPageRecTC,portionSize:10})))}),q={recommendation:[],page:1,loading:!1},$=function(e){return{type:"RECOMEND/TOGGLE_LOADER",loading:e}},H=Object(V.d)(Object(w.b)((function(e){return{recommendation:e.rec.recommendation,currentPageRec:e.rec.page,genreList:e.genres.genreList,loading:e.rec.loading}}),{setRecommendationsTC:function(e,t){return function(){var a=Object(m.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n($(!0)),a.next=4,R(e,t);case 4:r=a.sent,n({type:"SET_RECOMMENDATIONS",recommendation:r.data}),n($(!1)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),n($(!1));case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},setCurrnetPageRecTC:function(e){return function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a($(!0)),a({type:"SET_CURRENT_PAGE_REC",page:e}),a($(!1))}catch(n){console.log(n),a($(!1))}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setGenresTC:z}),b.g)((function(e){var t=Object(n.useState)(!0),a=Object(p.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setRecommendationsTC(e.match.params.filmId,e.match.params.page);case 2:return t.next=4,e.setGenresTC();case 4:o(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.match.params.page]),c?"":r.a.createElement(W,e)}));var K=Object(V.d)(b.g)((function(e){return"/"===e.location.pathname?r.a.createElement(b.a,{to:"/popular/1"}):r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement("div",{className:"container"},r.a.createElement(b.b,{exact:!0,path:"/popular/:page?",render:function(){return r.a.createElement(F,null)}})),r.a.createElement(b.b,{exact:!0,path:"/detail/:filmId?/page/:page?",render:function(){return r.a.createElement(J,null)}}),r.a.createElement(b.b,{exact:!0,path:"/detail/:filmId?/page/:page?",render:function(){return r.a.createElement(H,null)}}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(39),X=Object(V.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POPULAR_MOVIES":return Object(C.a)({},e,{popularMovies:t.movies});case"CURRENT_MOVIE":return Object(C.a)({},e,{currentMovie:t.currentMovie});case"SET_CURRENT_PAGE":return Object(C.a)({},e,{currentPage:t.page});case"MOVIES/TOGGLE_LOADER":return Object(C.a)({},e,{loading:t.loading});default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GENRES":return Object(C.a)({},e,{genreList:t.genreList});case"REC/TOGGLE_LOADER":return Object(C.a)({},e,{loading:t.loading});default:return e}},rec:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RECOMMENDATIONS":return Object(C.a)({},e,{recommendation:t.recommendation});case"SET_CURRENT_PAGE_REC":return Object(C.a)({},e,{page:t.page});case"RECOMEND/TOGGLE_LOADER":return Object(C.a)({},e,{loading:t.loading});default:return e}}}),Y=Object(V.e)(X,Object(V.a)(Q.a));window.store=Y;var Z=Y;a(70),a(71);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(w.a,{store:Z},r.a.createElement(K,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.7017c140.chunk.js.map